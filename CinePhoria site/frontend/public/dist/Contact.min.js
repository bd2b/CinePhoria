"use strict";import{validateEmail as h}from"./Helpers.js";export function onClickContact(){const i=document.getElementById("modal-contact");if(!i)return;const y=`
  <div class="modal__content-wrapper">
    <div class="modal__title">
      <div class="title__Contact title-h2">
        <h2>Formulaire de contact</h2>
      </div>
      <span class="close-modal" id="close-contact">\xD7</span>
    </div>
    <div class="modal__content" id="content__Contact">
      <p>Votre nom ou une adresse mail pour vous r\xE9pondre (facultatif)</p>
      <input type="text" id="contact-mail" placeholder="Nom ou adresse mail" />
      <small style="color: #888;">Indiquez votre mail si vous souhaitez avoir une r\xE9ponse</small>
      
      <label for="contact-titre">Titre</label>
      <input type="text" id="contact-titre" placeholder="Quel est le sujet de votre contact ?" />
      
      <label for="contact-desc">Description</label>
      <textarea id="contact-desc" rows="4" cols="40" placeholder="\xC9crivez votre demande"></textarea>
      
      <div class="modal__btns">
        <button id="contactAnnulerBtn" class="button">Annuler</button>
        <button id="contactEnvoyerBtn" class="button inactif" disabled>Envoyer votre demande</button>
      </div>
      <span id="contact-error" style="color: red; font-size: 0.9em; display: none;"></span>
    </div>
  </div>
  `;i.innerHTML=y,document.body.appendChild(i),i.style.display="flex";const r=document.getElementById("close-contact"),e=document.getElementById("contact-mail"),n=document.getElementById("contact-titre"),o=document.getElementById("contact-desc"),u=document.getElementById("contactAnnulerBtn"),l=document.getElementById("contactEnvoyerBtn"),d=document.getElementById("contact-error"),a=()=>{i.style.display="none"};function c(){const t=e?.value.trim()||"";if(t&&!h(t)){v("Veuillez indiquer un email valide si vous souhaitez un retour."),s(!0);return}if(!(n?.value.trim()||"").split(/\s+/).some(m=>m.length>=5)){v("Veuillez pr\xE9ciser le sujet de votre demande (un mot de 5 caract\xE8res minimum)."),s(!0);return}if((o?.value.trim()||"").split(/\s+/).filter(Boolean).filter(m=>m.length>=5).length<3){v("Veuillez d\xE9crire plus pr\xE9cis\xE9ment votre demande (au moins 3 mots de 5 caract\xE8res)."),s(!0);return}E(),s(!1)}function v(t){d&&(d.style.display="inline",d.textContent=t)}function E(){d&&(d.style.display="none",d.textContent="")}function s(t){l&&(t?(l.classList.add("inactif"),l.disabled=!0):(l.classList.remove("inactif"),l.disabled=!1))}e?.addEventListener("input",c),n?.addEventListener("input",c),o?.addEventListener("input",c),r?.addEventListener("click",a),i.addEventListener("click",t=>{t.target===i&&a()}),u?.addEventListener("click",a),l?.addEventListener("click",()=>{const t=e?.value.trim()||"",p=n?.value.trim()||"",f=o?.value.trim()||"";alert(`Demande envoy\xE9e !
Mail : ${t||"Pas de mail"}
Titre : ${p}
Description : ${f}`),a()}),c()}
